{% from "components/atoms/EliteButton.html" import elite_button %}
{% from "components/molecules/FormField.html" import form_field %}

<form hx-post="/transport/vehicle" hx-swap="outerHTML" class="space-y-6">
    <div class="flex items-center justify-between mb-6 pb-4 border-b border-[var(--aos-surface-border)]">
        <h3 class="aos-h3">Register Vehicle</h3>
        <button type="button"
            class="aos-btn aos-btn-ghost aos-size-sm p-3 hover:aos-bg-surface-elevated rounded-full transition-all"
            onclick="document.getElementById('transport-modal').classList.add('hidden')">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
        </button>
    </div>

    {{ form_field(label="Vehicle Plate Number", name="plate_number", placeholder="e.g. KCA 123X", required=True) }}

    <div class="space-y-2">
        <label class="block aos-text-xs font-bold aos-text-muted uppercase tracking-widest aos-text-mono px-1">Vehicle
            Type</label>
        <div class="relative">
            <select name="vehicle_type" required class="aos-input appearance-none pr-10">
                <option value="">Select Type</option>
                <option value="Matatu">Matatu (14-seater)</option>
                <option value="Boda Boda">Boda Boda (Motorcycle)</option>
                <option value="Truck">Truck (Cargo)</option>
            </select>
            <div class="absolute inset-y-0 right-3 flex items-center pointer-events-none text-slate-400">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </div>
        </div>
    </div>

    {{ form_field(label="Capacity (Passengers)", name="capacity", type="number", placeholder="e.g. 14", required=True)
    }}

    <div class="space-y-2">
        <label class="block aos-text-xs font-bold aos-text-muted uppercase tracking-widest aos-text-mono px-1">Assigned
            Route (Optional)</label>
        <div class="relative">
            <select name="current_route_id" class="aos-input appearance-none pr-10">
                <option value="">No Route Assigned</option>
                {% for route in routes %}
                <option value="{{ route.id }}">{{ route.name }}</option>
                {% endfor %}
            </select>
            <div class="absolute inset-y-0 right-3 flex items-center pointer-events-none text-slate-400">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </div>
        </div>
    </div>

    <div class="pt-8 flex justify-end space-x-4 border-t border-[var(--aos-surface-border)]">
        {{ elite_button(text="Cancel", variant="outline",
        onclick="document.getElementById('transport-modal').classList.add('hidden')", class="px-8") }}
        {{ elite_button(text="Register Vehicle", type="submit", variant="primary", class="px-8") }}
    </div>
</form>