<form hx-post="/agri/harvest" hx-swap="outerHTML" class="space-y-6">
    <input type="hidden" name="farmer_id" value="{{ farmer_id }}">

    <div class="space-y-2">
        <label class="aos-text-xs font-bold aos-text-muted uppercase tracking-widest pl-1">Crop Type</label>
        <select name="crop_id"
            class="w-full bg-[var(--aos-surface-base)] border border-[var(--aos-surface-border)] text-[var(--aos-neutral-100)] rounded-[var(--aos-radius-xl)] px-4 py-3 focus:outline-none focus:border-[var(--aos-primary-base)] transition-colors appearance-none cursor-pointer">
            {% for crop in crops %}
            <option value="{{ crop.id }}">{{ crop.name }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="grid grid-cols-2 gap-4">
        {% include "components/molecules/FormField.html" with label="Quantity" name="quantity" type="number"
        placeholder="50.0" attributes='step="0.1" inputmode="decimal"' %}
        <div class="space-y-2">
            <label class="aos-text-xs font-bold aos-text-muted uppercase tracking-widest pl-1">Unit</label>
            <select name="unit"
                class="w-full bg-[var(--aos-surface-base)] border border-[var(--aos-surface-border)] text-[var(--aos-neutral-100)] rounded-[var(--aos-radius-xl)] px-4 py-3 focus:outline-none focus:border-[var(--aos-primary-base)] transition-colors appearance-none cursor-pointer">
                <option value="kg">kg</option>
                <option value="bags">Bags (50kg)</option>
                <option value="tonnes">Tonnes</option>
            </select>
        </div>
    </div>

    <div class="space-y-2">
        <label class="aos-text-xs font-bold aos-text-muted uppercase tracking-widest pl-1">Quality Grade</label>
        <div class="grid grid-cols-3 gap-2">
            <label class="cursor-pointer group">
                <input type="radio" name="quality_grade" value="A" class="hidden peer" checked>
                <div
                    class="bg-[var(--aos-surface-base)] border border-[var(--aos-surface-border)] p-3 text-center rounded-[var(--aos-radius-xl)] peer-checked:bg-[var(--aos-primary-base)]/10 peer-checked:border-[var(--aos-primary-base)] peer-checked:text-[var(--aos-primary-base)] transition-all aos-text-muted">
                    Grade A</div>
            </label>
            <label class="cursor-pointer group">
                <input type="radio" name="quality_grade" value="B" class="hidden peer">
                <div
                    class="bg-[var(--aos-surface-base)] border border-[var(--aos-surface-border)] p-3 text-center rounded-[var(--aos-radius-xl)] peer-checked:bg-[var(--aos-primary-base)]/10 peer-checked:border-[var(--aos-primary-base)] peer-checked:text-[var(--aos-primary-base)] transition-all aos-text-muted">
                    Grade B</div>
            </label>
            <label class="cursor-pointer group">
                <input type="radio" name="quality_grade" value="C" class="hidden peer">
                <div
                    class="bg-[var(--aos-surface-base)] border border-[var(--aos-surface-border)] p-3 text-center rounded-[var(--aos-radius-xl)] peer-checked:bg-[var(--aos-primary-base)]/10 peer-checked:border-[var(--aos-primary-base)] peer-checked:text-[var(--aos-primary-base)] transition-all aos-text-muted">
                    Grade C</div>
            </label>
        </div>
    </div>

    <div class="pt-4 flex justify-end gap-3">
        {% include "components/atoms/EliteButton.html" with label="Cancel" variant="outline" type="button"
        attributes='onclick="document.getElementById(\'agri-modal\').classList.add(\'hidden\')"' %}
        {% include "components/atoms/EliteButton.html" with label="Record Harvest" variant="primary" type="submit" %}
    </div>
</form>